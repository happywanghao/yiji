<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content=" width=device-width, initial-scale=1, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <script>
            document.documentElement.style.fontSize=document.documentElement.clientWidth / 10.8 + "px";
        </script>
        <link rel="stylesheet" href="css/reset.css" />
        <link rel="stylesheet" href="css/swiper-3.4.2.min.css" />
        <link rel="stylesheet" href="css/home.css" />
    </head>
    <body>
        <div class="worp">
            <div class="searchkong"></div>
            <div class="search clearfix">
                <img src="img/fangdajing.png" alt="" />
            </div>
            <div class="lunbo swiper-container">
                <div class="lunbo_box swiper-wrapper">
                    <img class="swiper-slide" src="img/u62.jpg" alt="" />
                    <img class="swiper-slide" src="img/u65.jpg" alt="" />
                    <img class="swiper-slide" src="img/u68.jpg" alt="" />
                </div>
                <!-- 分页器 -->
                <div class="swiper-pagination"></div>
            </div>
            <div class="lunbo2 swiper-container_2">
                <div class="lunbo2_box swiper-wrapper">
                    <div class="swiper-slide"><img class="huihua" src="images/huihua_01.jpg" alt="" /></div>
                    <div class="swiper-slide"><img class="shuimo"src="images/shuimo_02.jpg" alt="" /></div>
                    <div class="swiper-slide"><img class="sheji"src="images/sheji_02.jpg" alt="" /></div>
                    <div class="swiper-slide"><img class="sheying"src="images/sheying_02.jpg" alt="" /></div>
                    <div class="swiper-slide"><img class="diaosu"src="images/diaosu_02.jpg" alt="" /></div>
                    <div class="swiper-slide"><img class="zhuangzhi"src="images/zhuangzhi.jpg" alt="" /></div>
                </div>
            </div>
            <div class="main">
                <div class="main_top clearfix">
                    <div class="main_top_left main_top_left_top">正在展出</div>
                    <div class="main_top_right">即将展出</div>
                </div>
                <div class="main_all clearfix">
                    <div class="main_left swiper-container_3">
                        <div class="main_left_all swiper-wrapper">
                            <div class="swiper-slide stop-swiping"><a href="xiaoxiangdeshenghua.html"><img src="images/l1_01.jpg" alt="" /></a></div>
                            <div class="swiper-slide stop-swiping"><a href="biannianshi.html"><img src="images/l2_02.jpg" alt="" /></a></div>
                            <div class="swiper-slide stop-swiping"><img src="images/l3_02.jpg" alt="" /></div>
                            <div class="swiper-slide stop-swiping"><img src="images/l4_02.jpg" alt="" /></div>
                            <div class="swiper-slide stop-swiping"><img src="images/l5_02.jpg" alt="" /></div>
                            <div class="swiper-slide stop-swiping"></div>
                        </div>
                    </div>
                    <div class="main_right swiper-container_4">
                        <div class="main_right_all swiper-wrapper">
                            <div class="swiper-slide stop-swiping"><a href="yibaigerenyanzouni.html"><img src="images/r1_01.jpg" alt="" /></a></div>
                            <div class="swiper-slide stop-swiping"><img src="images/r2_02.jpg" alt="" /></div>
                            <div class="swiper-slide stop-swiping"><img src="images/r3_02.jpg" alt="" /></div>
                            <div class="swiper-slide stop-swiping"><img src="images/r4_02.jpg" alt="" /></div>
                            <div class="swiper-slide stop-swiping"><img src="images/r5_02.jpg" alt="" /></div>
                            <div class="swiper-slide stop-swiping"><img src="images/r6_02.jpg" alt="" /></div>
                            <div class="swiper-slide stop-swiping"></div>
                        </div>
                    </div>
                </div>


            </div>
            <div class="footerkong"></div>
            <div class="footer">
                <ul class="clearfix">
                <li><a>展讯</a></li>
                <li><a href="tuijian.html">推荐</a></li>
                <li><a href="fabu.html">发布</a></li>
                <li><a href="geren.html">个人</a></li>
                </ul>
            </div>
        </div>
        <div class="worp2 none">
            <input type="text" placeholder="search" />
            <div class="back"></div>
        </div>
        <div class="lunbo2xiangxi none worpHuihua">
            <div class="top">
                <div class="lunbo2xiangxiback back"></div>
            </div>
            <div class="main">
                <img src="images/u166.jpg" alt="" />
            </div>
        </div>
       <div class="lunbo2xiangxi none worpShuimo">
            <div class="top">
                <div class="lunbo2xiangxiback back"></div>
            </div>
            <div class="main">
                <img src="images/u174.jpg" alt="" />
            </div>
        </div>
        <div class="lunbo2xiangxi none worpSheji">

            <div class="main">
                <div class="lunbo2xiangxiback back"></div>
                <img src="images/u181.jpg" alt="" />
            </div>
        </div>
        <div class="lunbo2xiangxi none worpSheying">
            <div class="main">
                <div class="lunbo2xiangxiback back"></div>
                <img src="images/u184.jpg" alt="" />
            </div>
        </div>
        <div class="lunbo2xiangxi none worpDiaosu">
            <div class="main">
                <div class="lunbo2xiangxiback back"></div>
                <img src="images/u187.jpg" alt="" />
            </div>
        </div>
        <div class="lunbo2xiangxi none worpZhuangzhi">
            <div class="main">
                <div class="lunbo2xiangxiback back"></div>
                <img src="images/u187.jpg" alt="" />
            </div>
        </div>
        <script src="js/swiper-3.4.2.min.js"></script>
        <script src="js/jquery-3.1.1.js"></script>
        <script src="js/hammer.js"></script>
        <script>

            var worp2=document.getElementsByClassName("worp2")[0]
            var worp2Back=worp2.getElementsByClassName("back")[0]
            var worp=document.getElementsByClassName("worp")[0]
            //轮播2的详情页
            var lunbo2=worp.getElementsByClassName("lunbo2")[0]
            var lunbo2Arr=lunbo2.getElementsByTagName("img")
            var lunbo2xiangxiArr=document.getElementsByClassName("lunbo2xiangxi")
            var lunbo2xiangxibackArr=document.getElementsByClassName("lunbo2xiangxiback")
            worp2.addEventListener("touchmove",function(event){event.preventDefault();})
            for(var i=0;i<lunbo2xiangxiArr.length;i++){
                (function(i){
                    lunbo2xiangxiArr[i].addEventListener("touchmove",function(event){return false})
                    new Hammer(lunbo2Arr[i]).on("tap",function(){
                        $(lunbo2xiangxiArr[i]).removeClass('none').animate({"left":0},300)
                    })
                    new Hammer(lunbo2xiangxibackArr[i]).on("tap",function(){
                        $(lunbo2xiangxiArr[i]).animate({"left":"10.8rem"},300,function(){this.addClass('none')})
                    })
                })(i)
            }

            var worpSearch=document.getElementsByClassName("worp")[0].getElementsByClassName("search")[0].getElementsByTagName("img")[0]
            var hammerWorpSearch=new Hammer(worpSearch)
            var hammerWorp2Back=new Hammer(worp2Back)
            hammerWorpSearch.on("tap",function(){
                $(".worp2").removeClass('none').animate({"left":0},300)
            })
            hammerWorp2Back.on("tap",function(){
                $(".worp2").animate({"left":"10.8rem"},300,function(){this.addClass('none')})
            })
            // 绘画界面


            // 禁止跳转
          var mySwiper = new Swiper ('.swiper-container', {
            direction: 'horizontal',
            loop: true,
            autoplay: 3000,
            autoplayDisableOnInteraction : false,
            // 如果需要分页器
            pagination: '.swiper-pagination',

          })

          var mySwiper1 = new Swiper(".swiper-container_2",{
            direction: 'horizontal',
            loop: true,
            slidesPerView : 2.5,
            slidesPerGroup: 1,
            spaceBetween: 3,
          })
          var n=0;
          var mySwiper3 = new Swiper(".swiper-container_3",{
            direction: 'vertical',
            slidesPerGroup: 1,
            slidesPerView : "2.5",
            spaceBetween: 6,
            noSwiping : true,
            noSwipingClass : 'stop-swiping',
            onSlideChangeEnd:function(swiper){
                n=swiper.activeIndex;
            },
          })
          var mySwiper4 = new Swiper(".swiper-container_4",{
            direction: 'vertical',
            slidesPerGroup: 1,
            slidesPerView : "2.5",
            spaceBetween: 6,
            noSwiping : true,
            noSwipingClass : 'stop-swiping',
             onSlideChangeEnd:function(swiper){
                n=swiper.activeIndex;
            },
          })

          // 正在展出选项卡
          // 动画函数
          function animate(obj,target,time,fun1){
            var targetStyle=[]
            for(var j in target){
                targetStyle.push(j)
            }
                var tar=targetStyle[0]
                 var yuanweizhi=parseFloat(window.getComputedStyle(obj,null)[tar]);
                var mubiaoweizhi=parseFloat(target[tar])
                var num=mubiaoweizhi - yuanweizhi
                var t=num/time*10
                t=parseInt(t)
                    clearInterval(a)
                var a=setInterval(function(){
                      yuanweizhi=yuanweizhi+t;
                      if(Math.abs(yuanweizhi-mubiaoweizhi)<=Math.abs(t)){
                            clearInterval(a)
                            yuanweizhi=mubiaoweizhi
                            if(fun1){
                                fun1()
                            }
                        } ;
                    obj.style[tar]=yuanweizhi+"px";
                },10)
        }
            var main=worp.getElementsByClassName("main")[0]
            var main_top_left=document.getElementsByClassName("main_top_left")[0]
            var main_top_right=document.getElementsByClassName("main_top_right")[0]
            var main_right=document.getElementsByClassName("main_right")[0]
            var main_left=document.getElementsByClassName("main_left")[0]
            var main_all=document.getElementsByClassName("main_all")[0]
            var width=window.getComputedStyle(main,null)["width"]
              main_top_left.addEventListener("touchstart",function(e){
                this.className="main_top_left main_top_left_top";
                main_top_right.className="main_top_right";
               animate(main_all,{"margin-left":0},200)
            })
              main_top_right.addEventListener("touchstart",function(e){
                this.className="main_top_right main_top_right_top";
                main_top_left.className="main_top_left";
                animate(main_all,{"margin-left":"-"+width},200)
                })
              //移动事件
              var hammerMain=new Hammer(main)
              hammerMain.get('swipe').set({
                    direction: Hammer.DIRECTION_ALL
                });

              hammerMain.on("swipeup",function(){
                console.log(888)
                $(".worp .lunbo").addClass('lunbo_none').removeClass("lunbo_block")
                 $(".worp .main .swiper-slide").removeClass('stop-swiping')
              })
              hammerMain.on("swipedown",function(){
                console.log(n)
                console.log("000")
                if(n==0){
                    $(".worp .lunbo").removeClass('lunbo_none').addClass('lunbo_block')
                    $(".worp .main .swiper-slide").addClass('stop-swiping')
                }
                if(n!=0){
                    n=n-1
                }
              })



          </script>
    </body>
</html>


